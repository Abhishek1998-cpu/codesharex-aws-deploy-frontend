(function(){var t={1325:function(t){const e={JOIN:"join",JOINED:"joined",DISCONNECTED:"disconnected",CODE_CHANGE:"code-change",SYNC_CODE:"sync-code",LEAVE:"leave"};t.exports=e},3609:function(t,e,o){"use strict";var n=o(6369),s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},i=[],r={name:"App",components:{}},a=r,c=o(3736),l=(0,c.Z)(a,s,i,!1,null,null,null),u=l.exports,d=o(2631),m=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"98vh",display:"flex","flex-direction":"column"}},[e("div",{staticStyle:{"margin-top":"5rem"}},[e("h1",{staticStyle:{"font-weight":"400"}},[t._v("Welcome to CodeShareX!")]),e("h3",{staticStyle:{"margin-top":"-1rem","font-weight":"400"}},[t._v(" Online Live Code Editor ")]),e("div",{staticClass:"main-wrapper"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.roomId,expression:"roomId"}],staticClass:"inputField",attrs:{type:"text",placeholder:"Enter Room Id"},domProps:{value:t.roomId},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleEnterPress.apply(null,arguments)},input:function(e){e.target.composing||(t.roomId=e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],staticClass:"inputField",attrs:{type:"text",placeholder:"Enter Username"},domProps:{value:t.userName},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleEnterPress.apply(null,arguments)},input:function(e){e.target.composing||(t.userName=e.target.value)}}}),e("div",{staticStyle:{display:"flex","flex-direction":"row",margin:"1rem"}},[e("button",{on:{click:t.onSubmit}},[t._v("Join")]),e("button",{on:{click:t.createNewRoom}},[t._v("New Room")])])]),t._m(0)])])},p=[function(){var t=this,e=t._self._c;return e("div",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"center","margin-top":"2rem"}},[e("div",[e("h3",{staticStyle:{"font-weight":"400","text-align":"left"}},[t._v(" ★ Please provide the details and then click on Join button ")]),e("h3",{staticStyle:{"font-weight":"400","text-align":"left","margin-top":"-1rem"}},[t._v(" ★ If you don't have an invite then Click on New Room ")])])])}],h=o(536),g=o(6215),f=o.n(g),v=o(5795);n.ZP.use(f());var C={name:"HomeComponent",props:{msg:String},data(){return{roomId:"",userName:""}},validations:{userName:{required:v.C1,maxLength:(0,v.BS)(12),minLength:(0,v.Ei)(6)},roomId:{required:v.C1}},methods:{onSubmit(){if(this.roomId&&this.userName){const t={roomId:this.roomId,userName:this.userName};console.log(t),this.$router.push({name:"Editor",params:{roomId:this.roomId,userName:this.userName}})}else n.ZP.$toast.open({message:"Please fill all the details before submitting",type:"error"})},genNewUuid(){const t=(0,h.Z)();return t},createNewRoom(){console.log("createNewRoom is called");const t=this.genNewUuid();console.log(t),this.roomId=t,n.ZP.$toast.open("New room created!")},handleEnterPress:function(){this.onSubmit()}}},y=C,_=(0,c.Z)(y,m,p,!1,null,"d50f3d18",null),w=_.exports,k=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-wrapper"},[e("div",{staticClass:"aside"},[e("div",{staticClass:"aside-inner"},[t._m(0),e("h3",[t._v("User Connected")]),t._l(t.clients,(function(t){return e("div",{key:t.socketId,staticClass:"clients-list"},[e("ClientComponent",{attrs:{userName:t.userName}})],1)}))],2),e("button",{staticClass:"copy-button",on:{click:t.copyRoomId}},[t._v("Copy Room ID")]),e("button",{staticClass:"leave-button",on:{click:t.leaveRoom}},[t._v("Leave")])]),e("div",{staticClass:"editor-wrapper"},[e("EditorComponent",{attrs:{socket:t.socket,roomId:t.roomId},on:{onCodeChange:t.syncOnCodeChange}}),e("div",[e("div",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"space-between","align-items":"center",padding:"1rem"}},[e("div",{staticStyle:{display:"flex","flex-direction":"row","align-items":"center"}},[e("h3",{staticStyle:{"font-weight":"400"}},[t._v("Select Language:  ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.language,expression:"language"}],on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.language=e.target.multiple?o:o[0]}}},[e("option",{attrs:{value:"c"}},[t._v("C")]),e("option",{attrs:{value:"cpp"}},[t._v("C++")]),e("option",{attrs:{value:"js"}},[t._v("Javascript")]),e("option",{attrs:{value:"py"}},[t._v("Python")]),e("option",{attrs:{value:"java"}},[t._v("Java")])])]),e("div",[e("button",{on:{click:t.executeCode}},[t._v("Run")]),e("button",{on:{click:t.clearOutput}},[t._v("Clear Output")])])]),e("div",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"flex-start",gap:"1rem","padding-right":"1rem","padding-left":"1rem"}},[t._m(1),e("div",[e("span",[t.showOutput?e("h4",[t._v(t._s(t.output))]):t._e()])])]),e("div",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"flex-start","align-items":"flex-start",gap:"1rem","padding-right":"1rem","padding-left":"1rem"}},[e("div",[t.showOutput?e("button",{staticStyle:{margin:"0rem"},on:{click:t.renderMoreDetails}},[t._v(" "+t._s(t.showMoreDetails?"Hide More Detals":"Show More Detals")+" ")]):t._e()]),t.showMoreDetails?e("div",[e("h4",{staticStyle:{"text-align":"left","font-weight":"400"}},[t._v(" Status: "+t._s(this.status)+" ")]),e("h4",{staticStyle:{"text-align":"left","font-weight":"400"}},[t._v(" "+t._s(this.jobId&&`JobId: ${this.jobId}`)+" ")])]):t._e()])])],1)])},N=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"logo"},[e("h2",{staticClass:"logo-image"},[t._v("Logo will be here")])])},function(){var t=this,e=t._self._c;return e("div",[e("h3",{staticStyle:{"text-align":"left","font-weight":"400"}},[t._v("Output:")])])}],b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"client"},[e("avatar",{attrs:{username:t.userName,size:60}}),e("span",{staticClass:"user-name"},[t._v(t._s(t.userName))])],1)},I=[],O=o(7806),E=o.n(O),x={name:"ClientComponent",components:{Avatar:E()},props:{userName:String},methods:{async init(){console.log("New 4 = "+this.userName)}},mounted(){this.init()}},S=x,P=(0,c.Z)(S,b,I,!1,null,"f83d4cea",null),D=P.exports,j=function(){var t=this,e=t._self._c;return e("div",[e("codemirror",{staticStyle:{"text-align":"left !important"},attrs:{value:t.content,options:t.cmOptions},on:{ready:t.onCmReady,focus:t.onCmFocus,changes:t.onChange}})],1)},Z=[],R=(o(6107),o(9074),o(8946),o(8223)),$=o(1325),H=o.n($),T={name:"EditorComponent",props:{socket:Object,roomId:String},components:{codemirror:R.codemirror},data(){return{content:"console.log('Hello World')",cmOptions:{mode:{name:"javascript",json:!0},connect:"align",theme:"dracula",autoCloseTags:!0,autoCloseBrackets:!0,lineNumbers:!0}}},methods:{async init(){this.socket.on(H().CODE_CHANGE,(({code:t})=>{console.log("It should be working",t),null!==t&&(this.content=t,this.$emit("onCodeChange",t))}))},onCmReady(t){console.log("the editor is readied!",t),this.socket.on(H().CODE_CHANGE,(({code:t})=>{console.log("It should be working",t),null!==t&&(this.content=t)}))},onCmFocus(t){console.log("the editor is focus!",t)},onChange(t,e){console.log(t),console.log(e);const{origin:o}=e[0],n=t.getValue();this.$emit("onCodeChange",n),"setValue"!==o&&(console.log("Working",n),this.socket.emit(H().CODE_CHANGE,{roomId:this.roomId,code:n})),this.socket.on(H().CODE_CHANGE,(({code:t})=>{console.log("It should be working",t),null!==t&&(this.content=t)})),console.log("New 5 = "+n)}},mounted(){this.init()},unmounted(){this.socket.off(H().CODE_CHANGE)}},J=T,M=(0,c.Z)(J,j,Z,!1,null,"3aa98c9c",null),A=M.exports,L=o(6265),G=o.n(L),F=o(8993);n.ZP.use(f());var z={name:"EditorPageComponent",props:{userName:String,roomId:String},components:{ClientComponent:D,EditorComponent:A},data(){return{clients:[],socket:(0,F.ZP)("http://ec2-3-93-242-64.compute-1.amazonaws.com:5000/"),codeRef:"Enter your code here",showOutput:!1,output:"",language:"cpp",status:"",jobId:"",showMoreDetails:!1}},methods:{handleErrors(t){console.log("Socket error",t),n.ZP.$toast.open({message:"Socket connection failed, Please try again",type:"error"}),this.$router.push({name:"Home"})},async init(){this.socket.on("connect_error",(t=>this.handleErrors(t))),this.socket.on("connect_failed",(t=>this.handleErrors(t))),this.socket.emit(H().JOIN,{roomId:this.roomId,userName:this.userName}),this.socket.on(H().JOINED,(({clients:t,userName:e,socketId:o})=>{e!==this.userName&&n.ZP.$toast.open({message:`${e} joined the room.`}),this.clients=t,this.socket.emit(H().SYNC_CODE,{code:this.codeRef,socketId:o})})),this.socket.on(H().DISCONNECTED,(({socketId:t,userName:e})=>{n.ZP.$toast.open({message:`${e} left the room.`}),this.clients=this.clients.filter((e=>e.socketId!==t))}))},async copyRoomId(){try{await navigator.clipboard.writeText(this.roomId),n.ZP.$toast.open({message:"Room Id has been copied"})}catch(t){n.ZP.$toast.open({message:"Could not copy Room Id",type:"error"}),console.log(t)}},leaveRoom(){this.socket.off(H().JOINED),this.socket.off(H().DISCONNECTED),this.socket.disconnect(),this.$router.push({name:"Home"})},syncOnCodeChange(t){this.codeRef=t},async executeCode(){const t={language:this.language,code:this.codeRef};console.log(G()),console.log("New 1 = "+JSON.stringify(t));try{this.jobId="",this.status="",this.output="";const{data:e}=await G().post("http://ec2-3-93-242-64.compute-1.amazonaws.com:5000/run",t);let o;console.log("New 7 = "+JSON.stringify(e)),this.jobId=e.jobId,o=setInterval((async()=>{const{data:t}=await G().get("http://ec2-3-93-242-64.compute-1.amazonaws.com:5000/status",{params:{id:e.jobId}}),{success:n,job:s,error:i}=t;if(n){const{status:t,output:e}=s;if(this.status=t,"pending"===this.status)return;this.output=e,clearInterval(o)}else console.log(i),this.status="Error: Please retry!",clearInterval(o),this.output=i;console.log(t)}),1e3)}catch({response:e}){if(e){const t=e.data.err.stderr;this.output=t,console.log(e)}else n.ZP.$toast.open({message:"Error connecting to server",type:"error"})}this.showOutput=!0},clearOutput(){this.output="",this.showOutput=!1},renderMoreDetails(){this.showMoreDetails=!this.showMoreDetails}},mounted(){this.init()},unmounted(){this.socket.off(H().JOINED),this.socket.off(H().DISCONNECTED),this.socket.disconnect()},sockets:{connect:function(){console.log("Socket Connected")},disconnect:function(){console.log("Socket Disconnected")}}},U=z,q=(0,c.Z)(U,k,N,!1,null,"65eb5132",null),B=q.exports,V=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"mars"}),e("img",{staticClass:"logo-404",attrs:{src:"https://assets.codepen.io/1538474/404.svg"}}),e("img",{staticClass:"meteor",attrs:{src:"https://assets.codepen.io/1538474/meteor.svg"}}),e("p",{staticClass:"title"},[t._v("Oh no!!")]),t._m(0),e("div",{attrs:{align:"center"}},[e("button",{staticClass:"btn-back",on:{click:t.backToHome}},[t._v("BACK TO HOMEPAGE")])]),e("img",{staticClass:"astronaut",attrs:{src:"https://assets.codepen.io/1538474/astronaut.svg"}}),e("img",{staticClass:"spaceship",attrs:{src:"https://assets.codepen.io/1538474/spaceship.svg"}})])},W=[function(){var t=this,e=t._self._c;return e("p",{staticClass:"subtitle"},[t._v(" You’re either misspelling the URL "),e("br"),t._v(" or requesting a page that's no longer here. ")])}],Y={name:"PageNotFoundComponent",methods:{backToHome(){this.$router.push({name:"Home"})}}},K=Y,X=(0,c.Z)(K,V,W,!1,null,"f2c1f54c",null),Q=X.exports;const tt=new d.Z({mode:"history",routes:[{name:"Home",path:"/",component:w,props:!0},{name:"Editor",path:"/editor/:roomId",component:B,props:!0},{path:"*",component:Q,props:!0}]});var et=tt,ot=o(9557),nt=o.n(ot),st=o(4659);n.ZP.use(d.Z,st.ZP),n.ZP.use(new(nt())({debug:!0,connection:(0,F.ZP)("http://ec2-3-93-242-64.compute-1.amazonaws.com:5000/")})),n.ZP.config.productionTip=!1,new n.ZP({router:et,render:t=>t(u)}).$mount("#app")}},e={};function o(n){var s=e[n];if(void 0!==s)return s.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,o),i.exports}o.m=t,function(){var t=[];o.O=function(e,n,s,i){if(!n){var r=1/0;for(u=0;u<t.length;u++){n=t[u][0],s=t[u][1],i=t[u][2];for(var a=!0,c=0;c<n.length;c++)(!1&i||r>=i)&&Object.keys(o.O).every((function(t){return o.O[t](n[c])}))?n.splice(c--,1):(a=!1,i<r&&(r=i));if(a){t.splice(u--,1);var l=s();void 0!==l&&(e=l)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[n,s,i]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,i,r=n[0],a=n[1],c=n[2],l=0;if(r.some((function(e){return 0!==t[e]}))){for(s in a)o.o(a,s)&&(o.m[s]=a[s]);if(c)var u=c(o)}for(e&&e(n);l<r.length;l++)i=r[l],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return o.O(u)},n=self["webpackChunkcodesharex"]=self["webpackChunkcodesharex"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(3609)}));n=o.O(n)})();
//# sourceMappingURL=app.1ae1ee95.js.map