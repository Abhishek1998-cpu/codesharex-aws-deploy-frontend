(function(){var t={1325:function(t){const e={JOIN:"join",JOINED:"joined",DISCONNECTED:"disconnected",CODE_CHANGE:"code-change",SYNC_CODE:"sync-code",LEAVE:"leave"};t.exports=e},7617:function(t,e,o){"use strict";var s=o(6369),n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},i=[],a={name:"App",components:{}},r=a,c=o(3736),l=(0,c.Z)(r,n,i,!1,null,null,null),u=l.exports,d=o(2631),m=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"98vh",display:"flex","flex-direction":"column"}},[e("div",{staticStyle:{"margin-top":"5rem"}},[e("h1",{staticStyle:{"font-weight":"400"}},[t._v("Welcome to CodeShareX!")]),e("h3",{staticStyle:{"margin-top":"-1rem","font-weight":"400"}},[t._v(" Online Live Code Editor ")]),e("div",{staticClass:"main-wrapper"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.roomId,expression:"roomId"}],staticClass:"inputField",attrs:{type:"text",placeholder:"Enter Room Id"},domProps:{value:t.roomId},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleEnterPress.apply(null,arguments)},input:function(e){e.target.composing||(t.roomId=e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],staticClass:"inputField",attrs:{type:"text",placeholder:"Enter Username"},domProps:{value:t.userName},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleEnterPress.apply(null,arguments)},input:function(e){e.target.composing||(t.userName=e.target.value)}}}),e("div",{staticStyle:{display:"flex","flex-direction":"row",margin:"1rem"}},[e("button",{on:{click:t.onSubmit}},[t._v("Join")]),e("button",{on:{click:t.createNewRoom}},[t._v("New Room")])])]),t._m(0)])])},p=[function(){var t=this,e=t._self._c;return e("div",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"center","margin-top":"2rem"}},[e("div",[e("h3",{staticStyle:{"font-weight":"400","text-align":"left"}},[t._v(" ★ Please provide the details and then click on Join button ")]),e("h3",{staticStyle:{"font-weight":"400","text-align":"left","margin-top":"-1rem"}},[t._v(" ★ If you don't have an invite then Click on New Room ")])])])}],h=o(536),f=o(6215),g=o.n(f);s["default"].use(g());var v={name:"HomeComponent",props:{msg:String},data(){return{roomId:"",userName:""}},methods:{onSubmit(){if(this.checkForNumber(this.userName))s["default"].$toast.open({message:"Please do not provide number's in Name",type:"error"});else if(this.roomId&&this.userName){const t={roomId:this.roomId,userName:this.userName};console.log(t),this.$router.push({name:"EditorPage",params:{roomId:this.roomId,userName:this.userName}})}else s["default"].$toast.open({message:"Please fill all the details before submitting",type:"error"})},checkForNumber(t){return/\d/.test(t)},genNewUuid(){const t=(0,h.Z)();return t},createNewRoom(){console.log("createNewRoom is called");const t=this.genNewUuid();console.log(t),this.roomId=t,s["default"].$toast.open("New room created!")},handleEnterPress:function(){this.onSubmit()}}},y=v,C=(0,c.Z)(y,m,p,!1,null,"7d027318",null),_=C.exports,w=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-wrapper"},[e("div",{staticClass:"aside"},[e("div",{staticClass:"aside-inner"},[t._m(0),e("h3",[t._v("User Connected")]),e("div",{staticClass:"clients-list"},t._l(t.clients,(function(t){return e("div",{key:t.socketId},[e("ClientComponent",{attrs:{userName:t.userName}})],1)})),0)]),e("p",{staticClass:"show-room-id"},[t._v(t._s(this.roomId))]),e("button",{staticClass:"copy-button",on:{click:t.copyRoomId}},[t._v("Copy Room ID")]),e("div",{staticClass:"logo"}),e("button",{staticClass:"leave-button",on:{click:t.leaveRoom}},[t._v("Leave")])]),e("div",{staticClass:"editor-wrapper"},[e("EditorComponent",{attrs:{socket:t.socket,roomId:t.roomId},on:{onCodeChange:t.syncOnCodeChange}}),e("div",[e("div",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"space-between","align-items":"center",padding:"1rem"}},[e("div",{staticStyle:{display:"flex","flex-direction":"row","align-items":"center"}},[e("h3",{staticStyle:{"font-weight":"400"}},[t._v("Select Language:  ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.language,expression:"language"}],on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.language=e.target.multiple?o:o[0]}}},[e("option",{attrs:{value:"c"}},[t._v("C")]),e("option",{attrs:{value:"cpp"}},[t._v("C++")]),e("option",{attrs:{value:"js"}},[t._v("Javascript")]),e("option",{attrs:{value:"py"}},[t._v("Python")]),e("option",{attrs:{value:"java"}},[t._v("Java")])])]),e("div",[e("button",{on:{click:t.executeCode}},[t._v("Run")]),e("button",{on:{click:t.clearOutput}},[t._v("Clear Output")])])]),e("div",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"flex-start",gap:"1rem","padding-right":"1rem","padding-left":"1rem"}},[t._m(1),e("div",{staticStyle:{display:"flex","flex-direction":"row","align-items":"center"}},["pending"===this.status?e("div",{staticClass:"semipolar-spinner",style:t.spinnerStyle},[e("div",{staticClass:"ring"}),e("div",{staticClass:"ring"}),e("div",{staticClass:"ring"}),e("div",{staticClass:"ring"}),e("div",{staticClass:"ring"})]):t._e(),e("span",[t.showOutput?e("h4",[t._v(t._s(t.output))]):t._e()])])]),e("div",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"flex-start","align-items":"flex-start",gap:"1rem",padding:"1rem"}},[e("div",[t.showOutput?e("button",{staticStyle:{margin:"0rem"},on:{click:t.renderMoreDetails}},[t._v(" "+t._s(t.showMoreDetails?"Hide More Detals":"Show More Detals")+" ")]):t._e()]),t.showMoreDetails&&t.showOutput?e("div",[e("h4",{staticStyle:{"text-align":"left","font-weight":"400","font-style":"italic","font-size":"14px"}},[t._v(" Status: "+t._s(this.status)+" ")]),e("p",{staticStyle:{"text-align":"left","font-weight":"400","font-style":"italic","margin-top":"-1rem","font-size":"14px"}},[t._v(" "+t._s(this.jobId&&`JobId: ${this.jobId}`)+" ")])]):t._e()])])],1)])},k=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"logo"},[e("img",{staticClass:"logo-image",attrs:{src:o(4792),alt:"codesharexIcon"}})])},function(){var t=this,e=t._self._c;return e("div",[e("h3",{staticStyle:{"text-align":"left","font-weight":"400"}},[t._v("Output:")])])}],b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"client"},[e("avatar",{attrs:{username:t.userName,size:60}}),e("span",{staticClass:"user-name"},[t._v(t._s(t.userName))])],1)},N=[],I=o(7806),x=o.n(I),O={name:"ClientComponent",components:{Avatar:x()},props:{userName:String},methods:{async init(){console.log("New 4 = "+this.userName)}},mounted(){this.init()}},E=O,S=(0,c.Z)(E,b,N,!1,null,"f83d4cea",null),D=S.exports,j=function(){var t=this,e=t._self._c;return e("div",[e("codemirror",{staticStyle:{"text-align":"left !important"},attrs:{value:t.content,options:t.cmOptions},on:{ready:t.onCmReady,focus:t.onCmFocus,changes:t.onChange}})],1)},P=[],R=(o(6107),o(9074),o(8946),o(8223)),$=o(1325),H=o.n($),M={name:"EditorComponent",props:{socket:Object,roomId:String},components:{codemirror:R.codemirror},data(){return{content:"Enter your code here!",cmOptions:{mode:{name:"javascript",json:!0},connect:"align",theme:"dracula",autoCloseTags:!0,autoCloseBrackets:!0,lineNumbers:!0}}},methods:{async init(){this.socket.on(H().CODE_CHANGE,(({code:t})=>{console.log("It should be working",t),null!==t&&(this.content=t)}))},async onCmReady(t){console.log("the editor is readied!",t),this.socket.on(H().CODE_CHANGE,(({code:t})=>{console.log("It should be working",t),null!==t&&(this.content=t)}))},onCmFocus(t){console.log("the editor is focus!",t)},async onChange(t,e){console.log(t),console.log(e);const{origin:o}=e[0],s=t.getValue();this.$emit("onCodeChange",s),"setValue"!==o&&(console.log("Working",s),this.socket.emit(H().CODE_CHANGE,{roomId:this.roomId,code:s})),this.socket.on(H().CODE_CHANGE,(({code:t})=>{console.log("It should be working",t),null!==t&&(this.content=t)})),console.log("New 5 = "+s)}},mounted(){this.init()},unmounted(){this.socket.off(H().CODE_CHANGE)}},T=M,A=(0,c.Z)(T,j,P,!1,null,"03e3cd2e",null),Z=A.exports,J=o(6265),F=o.n(J),G=o(8993);s["default"].use(g());var z={name:"EditorPageComponent",props:{userName:String,roomId:String},components:{ClientComponent:D,EditorComponent:Z},data(){return{clients:[],socket:(0,G.ZP)("http://ec2-3-93-242-64.compute-1.amazonaws.com:5000/"),codeRef:"",showOutput:!1,output:"",language:"cpp",status:"",jobId:"",showMoreDetails:!1}},methods:{handleErrors(t){console.log("Socket error",t),s["default"].$toast.open({message:"Socket connection failed, Please try again",type:"error"}),this.$router.push({name:"Home"})},async init(){this.socket.on("connect_error",(t=>this.handleErrors(t))),this.socket.on("connect_failed",(t=>this.handleErrors(t))),this.socket.emit(H().JOIN,{roomId:this.roomId,userName:this.userName}),this.socket.on(H().JOINED,(({clients:t,userName:e,socketId:o})=>{e!==this.userName&&s["default"].$toast.open({message:`${e} joined the room.`}),this.clients=t,""!==this.codeRef&&this.socket.emit(H().SYNC_CODE,{code:this.codeRef,socketId:o})})),this.socket.on(H().DISCONNECTED,(({socketId:t,userName:e})=>{s["default"].$toast.open({message:`${e} left the room.`}),this.clients=this.clients.filter((e=>e.socketId!==t))}))},async copyRoomId(){try{await navigator.clipboard.writeText(this.roomId),s["default"].$toast.open({message:"Room Id has been copied"})}catch(t){s["default"].$toast.open({message:"Could not copy Room Id",type:"error"}),console.log(t)}},leaveRoom(){this.socket.off(H().JOINED),this.socket.off(H().DISCONNECTED),this.socket.disconnect(),this.$router.push({name:"Home"})},syncOnCodeChange(t){this.codeRef=t},async executeCode(){const t={language:this.language,code:this.codeRef};try{this.jobId="",this.status="pending",this.output="",this.showOuput=!1,this.showMoreDetails=!1;const{data:e}=await F().post("http://ec2-3-93-242-64.compute-1.amazonaws.com:5000/run",t);let o;this.jobId=e.jobId,o=setInterval((async()=>{const{data:t}=await F().get("http://ec2-3-93-242-64.compute-1.amazonaws.com:5000/status",{params:{id:e.jobId}}),{success:s,job:n,error:i}=t;if(s){const{status:t,output:e}=n;if(this.status=t,"pending"===this.status)return;this.output=e,clearInterval(o)}else console.log(i),this.status="Error: Please retry!",clearInterval(o),this.output=i}),1e3)}catch({response:e}){if(e){console.log(e);const t=e.data.err.stderr;this.output=t,console.log(e)}else s["default"].$toast.open({message:"Error connecting to server",type:"error"})}this.showOutput=!0},clearOutput(){this.status="",this.output="",this.showOutput=!1},renderMoreDetails(){this.showMoreDetails=!this.showMoreDetails}},mounted(){this.init()},unmounted(){this.socket.off(H().JOINED),this.socket.off(H().DISCONNECTED),this.socket.disconnect()},sockets:{connect:function(){console.log("Socket Connected")},disconnect:function(){console.log("Socket Disconnected")}}},L=z,U=(0,c.Z)(L,w,k,!1,null,"e5b96ac4",null),V=U.exports,Y=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"mars"}),e("img",{staticClass:"logo-404",attrs:{src:"https://assets.codepen.io/1538474/404.svg"}}),e("img",{staticClass:"meteor",attrs:{src:"https://assets.codepen.io/1538474/meteor.svg"}}),e("p",{staticClass:"title"},[t._v("Oh no!!")]),t._m(0),e("div",{attrs:{align:"center"}},[e("button",{staticClass:"btn-back",on:{click:t.backToHome}},[t._v("BACK TO HOMEPAGE")])]),e("img",{staticClass:"astronaut",attrs:{src:"https://assets.codepen.io/1538474/astronaut.svg"}}),e("img",{staticClass:"spaceship",attrs:{src:"https://assets.codepen.io/1538474/spaceship.svg"}})])},B=[function(){var t=this,e=t._self._c;return e("p",{staticClass:"subtitle"},[t._v(" You’re either misspelling the URL "),e("br"),t._v(" or requesting a page that's no longer here. ")])}],W={name:"PageNotFoundComponent",methods:{backToHome(){this.$router.push({name:"Home"})}}},X=W,q=(0,c.Z)(X,Y,B,!1,null,"f2c1f54c",null),K=q.exports;const Q=new d.Z({mode:"history",routes:[{name:"Home",path:"/",component:_,props:!0},{name:"EditorPage",path:"/editor/:roomId",component:V,props:!0},{path:"*",component:K,props:!0}]});var tt=Q,et=o(9557),ot=o.n(et),st=o(4659),nt=o(4121);o(7024);s["default"].use(d.Z,st.ZP),s["default"].use(new(ot())({debug:!0,connection:(0,G.ZP)("http://ec2-3-93-242-64.compute-1.amazonaws.com:5000/")})),s["default"].config.productionTip=!1,s["default"].use(nt.XG7),new s["default"]({router:tt,render:t=>t(u)}).$mount("#app")},4792:function(t,e,o){"use strict";t.exports=o.p+"img/codesharex.68b5c901.png"}},e={};function o(s){var n=e[s];if(void 0!==n)return n.exports;var i=e[s]={exports:{}};return t[s].call(i.exports,i,i.exports,o),i.exports}o.m=t,function(){var t=[];o.O=function(e,s,n,i){if(!s){var a=1/0;for(u=0;u<t.length;u++){s=t[u][0],n=t[u][1],i=t[u][2];for(var r=!0,c=0;c<s.length;c++)(!1&i||a>=i)&&Object.keys(o.O).every((function(t){return o.O[t](s[c])}))?s.splice(c--,1):(r=!1,i<a&&(a=i));if(r){t.splice(u--,1);var l=n();void 0!==l&&(e=l)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[s,n,i]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var s in e)o.o(e,s)&&!o.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,s){var n,i,a=s[0],r=s[1],c=s[2],l=0;if(a.some((function(e){return 0!==t[e]}))){for(n in r)o.o(r,n)&&(o.m[n]=r[n]);if(c)var u=c(o)}for(e&&e(s);l<a.length;l++)i=a[l],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return o.O(u)},s=self["webpackChunkcodesharex"]=self["webpackChunkcodesharex"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=o.O(void 0,[998],(function(){return o(7617)}));s=o.O(s)})();
//# sourceMappingURL=app.16dd94ee.js.map